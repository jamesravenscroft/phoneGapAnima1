{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _slicedToArray from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Component}from\"react\";import championList from\"./champions\";import\"./DraftChampion.css\";import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import DraftMinion from\"../draftMinion/draftMinion\";import API from'../../utils/API';import Lobby from\"../lobby/lobby\";var reorder=function reorder(list,startIndex,endIndex){var result=Array.from(list);var _result$splice=result.splice(startIndex,1),_result$splice2=_slicedToArray(_result$splice,1),removed=_result$splice2[0];result.splice(endIndex,0,removed);return result;};/**\n* Moves an item from one list to another list. this function is working as expected\n*/var move=function move(source,destination,droppableSource,droppableDestination){var sourceClone=Array.from(source);var destClone=Array.from(destination);var _sourceClone$splice=sourceClone.splice(droppableSource.index,1),_sourceClone$splice2=_slicedToArray(_sourceClone$splice,1),removed=_sourceClone$splice2[0];destClone.splice(droppableDestination.index,0,removed);var result={};result[droppableSource.droppableId]=sourceClone;result[droppableDestination.droppableId]=destClone;return result;};var DraftChamp=/*#__PURE__*/function(_Component){_inherits(DraftChamp,_Component);function DraftChamp(props){var _this;_classCallCheck(this,DraftChamp);_this=_possibleConstructorReturn(this,_getPrototypeOf(DraftChamp).call(this,props));_this.assignNames=function(){if(_this.state.player1name===\"\"){_this.setState({player1name:_this.props.name});}else{_this.setState({player2name:_this.props.name});}};_this.componentDidMount=function(){API.assignNames(_this.props.name);API.joinGame(function(updates){if(updates.playerDisconnected===true){var modal=document.getElementById(\"myModalQuit\");setTimeout(function(){modal.style.display=\"block\";},300);setTimeout(function(){window.location.reload();},3000);}if(updates.player1&&updates.player2){window.soundtrack();_this.setState({player1champion:updates.player1.champion||[],player2champion:updates.player2.champion||[],champions:updates.champions||championList.championList,player1name:updates.player1name||\"\",player2name:updates.player2name||\"\",playerDisconnected:false});if(_this.state.player1champion.length>0&&_this.state.p1c===false){window.playCard1();_this.setState({p1c:true});}if(_this.state.player2champion.length>0&&_this.state.p2c===false){window.playCard1();_this.setState({p2c:true});}}});};_this.getList=function(id){return _this.state[_this.id2List[id]];};_this.onDragEnd=function(result){var source=result.source,destination=result.destination;// dropped outside the list\nif(!destination){return;}if(source.droppableId==='droppable'&&destination.droppableId==='droppable'){return;}if(source.droppableId==='droppable'&&destination.droppableId===\"droppable2\"&&_this.state.player1champion.length>0){return;}if(source.droppableId==='droppable'&&destination.droppableId===\"droppable3\"&&_this.state.player2champion.length>0){return;}if(source.droppableId==='droppable'||destination.droppableId!=='droppable'){var _result=move(_this.getList(source.droppableId),_this.getList(destination.droppableId),source,destination);// for testing the sound effects\nAPI.draftChampion(_result.droppable,_result[destination.droppableId]);}};_this.state={champions:championList.championList,player1champion:[],player2champion:[],player1name:\"\",player2name:\"\",p1c:false,p2c:false};_this.id2List={droppable:'champions',droppable2:'player1champion',droppable3:'player2champion'};return _this;}_createClass(DraftChamp,[{key:\"render\",value:function render(){var _this2=this;if(this.state.playerDisconnected===true){window.location.reload();}else if(this.state.player1champion.length>0&&this.state.player2champion.length>0){return React.createElement(DraftMinion,{p1champ:this.state.player1champion,p2champ:this.state.player2champion,champions:this.state.champions,p1name:this.state.player1name,p2name:this.state.player2name});}else return React.createElement(DragDropContext,{onDragEnd:this.onDragEnd},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row1\"},React.createElement(\"div\",{className:\"player2Name\"},React.createElement(\"h1\",{className:\"headerText\"},this.state.player2name||\"Waiting for Opponent\")),React.createElement(\"div\",{className:\"championHeader\"},React.createElement(\"h1\",{className:\"headerText\"},\"Choose your champion\")),React.createElement(\"div\",{className:\"player1Name\"},React.createElement(\"h1\",{className:\"headerText\"},this.state.player1name||\"Waiting for Opponent\"))),React.createElement(\"div\",{id:\"myModalQuit\",class:\"modal\"},React.createElement(\"div\",{class:\"modal-content\"},React.createElement(\"p\",null,\"Player Disconnected, heading to lobby\"))),React.createElement(\"div\",{className:\"row2\"},React.createElement(Droppable,{droppableId:\"droppable3\"},function(provided){return React.createElement(\"div\",{ref:provided.innerRef,className:\"chosenChampion1\"},React.createElement(\"h3\",{className:\"chosenText\"},\"Chosen Champion\"),_this2.state.player2champion.map(function(p2Champion,index){return React.createElement(Draggable,{key:p2Champion.id,draggableId:p2Champion.id,index:index},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"chosenChampionCard\",id:p2Champion.id,key:p2Champion.id}),React.createElement(\"h3\",{className:\"championName\"},p2Champion.name||\"champion\"),React.createElement(\"p\",{className:\"championHealth\"},p2Champion.Health||2),React.createElement(\"img\",{className:\"championCost\",src:p2Champion.type,alt:\"\",width:\"42\",height:\"42\"}),React.createElement(\"img\",{className:\"championWeakness\",src:p2Champion.WeakAgainst,alt:\"\",width:\"42\",height:\"1\"}),React.createElement(\"img\",{className:\"championStrength\",src:p2Champion.StrongAgainst,alt:\"\",width:\"5\",height:\"1\"}),React.createElement(\"img\",{className:\"championPortrait\",src:p2Champion.Img,alt:\"\"}));});}),provided.placeholder);}),React.createElement(Droppable,{droppableId:\"droppable\"},function(provided){return React.createElement(\"div\",{className:\"championContainer\",ref:provided.innerRef},_this2.state.champions.map(function(champion,index){return React.createElement(Draggable,{key:champion.id,draggableId:champion.id,index:index},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"championCard\",id:champion.id,key:champion.id}),React.createElement(\"h3\",{className:\"championName\"},champion.name||\"champion\"),React.createElement(\"p\",{className:\"championHealth\"},champion.Health||2),React.createElement(\"img\",{className:\"championCost\",src:champion.type,alt:\"\",width:\"42\",height:\"42\"}),React.createElement(\"img\",{className:\"championWeakness\",src:champion.WeakAgainst,alt:\"\",width:\"42\",height:\"1\"}),React.createElement(\"img\",{className:\"championStrength\",src:champion.StrongAgainst,alt:\"\",width:\"5\",height:\"1\"}),React.createElement(\"img\",{className:\"championPortrait\",src:champion.Img,alt:\"\"}));});}),provided.placeholder);}),React.createElement(Droppable,{droppableId:\"droppable2\"},function(provided){return React.createElement(\"div\",{ref:provided.innerRef,className:\"chosenChampion2\"},React.createElement(\"h3\",{className:\"chosenText\"},\"Chosen Champion\"),_this2.state.player1champion.map(function(p1champion,index){return React.createElement(Draggable,{key:p1champion.id,draggableId:p1champion.id,index:index},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"chosenChampionCard\",id:p1champion.id,key:p1champion.id}),React.createElement(\"h3\",{className:\"championName\"},p1champion.name||\"champion\"),React.createElement(\"p\",{className:\"championHealth\"},p1champion.Health||2),React.createElement(\"img\",{className:\"championCost\",src:p1champion.type,alt:\"\",width:\"42\",height:\"42\"}),React.createElement(\"img\",{className:\"championWeakness\",src:p1champion.WeakAgainst,alt:\"\",width:\"42\",height:\"1\"}),React.createElement(\"img\",{className:\"championStrength\",src:p1champion.StrongAgainst,alt:\"\",width:\"5\",height:\"1\"}),React.createElement(\"img\",{className:\"championPortrait\",src:p1champion.Img,alt:\"\"}));});}),provided.placeholder);}))));}}]);return DraftChamp;}(Component);export default DraftChamp;","map":{"version":3,"sources":["C:/Users/jrave/Desktop/BusinessSites/Animalchemists/phoneGapAnima1/src/components/draftChamp/draftChamp.js"],"names":["React","Component","championList","DragDropContext","Droppable","Draggable","DraftMinion","API","Lobby","reorder","list","startIndex","endIndex","result","Array","from","splice","removed","move","source","destination","droppableSource","droppableDestination","sourceClone","destClone","index","droppableId","DraftChamp","props","assignNames","state","player1name","setState","name","player2name","componentDidMount","joinGame","updates","playerDisconnected","modal","document","getElementById","setTimeout","style","display","window","location","reload","player1","player2","soundtrack","player1champion","champion","player2champion","champions","length","p1c","playCard1","p2c","getList","id","id2List","onDragEnd","draftChampion","droppable","droppable2","droppable3","provided","innerRef","map","p2Champion","draggableProps","dragHandleProps","Health","type","WeakAgainst","StrongAgainst","Img","placeholder","p1champion"],"mappings":"sqCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,aAAzB,CACA,MAAO,qBAAP,CACA,OAASC,eAAT,CAA0BC,SAA1B,CAAqCC,SAArC,KAAsD,qBAAtD,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAOC,UAAP,CAAmBC,QAAnB,CAAgC,CAC9C,GAAMC,CAAAA,MAAM,CAAGC,KAAK,CAACC,IAAN,CAAWL,IAAX,CAAf,CAD8C,mBAE5BG,MAAM,CAACG,MAAP,CAAcL,UAAd,CAA0B,CAA1B,CAF4B,kDAEvCM,OAFuC,oBAG9CJ,MAAM,CAACG,MAAP,CAAcJ,QAAd,CAAwB,CAAxB,CAA2BK,OAA3B,EAEA,MAAOJ,CAAAA,MAAP,CACD,CAND,CAQA;;EAIA,GAAMK,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,MAAD,CAASC,WAAT,CAAsBC,eAAtB,CAAuCC,oBAAvC,CAAgE,CAE3E,GAAMC,CAAAA,WAAW,CAAGT,KAAK,CAACC,IAAN,CAAWI,MAAX,CAApB,CAEA,GAAMK,CAAAA,SAAS,CAAGV,KAAK,CAACC,IAAN,CAAWK,WAAX,CAAlB,CAJ2E,wBAMzDG,WAAW,CAACP,MAAZ,CAAmBK,eAAe,CAACI,KAAnC,CAA0C,CAA1C,CANyD,4DAMpER,OANoE,yBAQ3EO,SAAS,CAACR,MAAV,CAAiBM,oBAAoB,CAACG,KAAtC,CAA6C,CAA7C,CAAgDR,OAAhD,EAEA,GAAMJ,CAAAA,MAAM,CAAG,EAAf,CACAA,MAAM,CAACQ,eAAe,CAACK,WAAjB,CAAN,CAAsCH,WAAtC,CACAV,MAAM,CAACS,oBAAoB,CAACI,WAAtB,CAAN,CAA2CF,SAA3C,CAEA,MAAOX,CAAAA,MAAP,CACD,CAfD,C,GAmBMc,CAAAA,U,oEACJ,oBAAYC,KAAZ,CAAmB,4CACjB,4EAAMA,KAAN,GADiB,MAoBnBC,WApBmB,CAoBL,UAAM,CAClB,GAAI,MAAKC,KAAL,CAAWC,WAAX,GAA2B,EAA/B,CAAmC,CACjC,MAAKC,QAAL,CAAc,CACZD,WAAW,CAAE,MAAKH,KAAL,CAAWK,IADZ,CAAd,EAGD,CAJD,IAIO,CACL,MAAKD,QAAL,CAAc,CACZE,WAAW,CAAE,MAAKN,KAAL,CAAWK,IADZ,CAAd,EAGD,CACF,CA9BkB,OAgCnBE,iBAhCmB,CAgCC,UAAM,CACxB5B,GAAG,CAACsB,WAAJ,CAAgB,MAAKD,KAAL,CAAWK,IAA3B,EACA1B,GAAG,CAAC6B,QAAJ,CAAa,SAAAC,OAAO,CAAI,CAGtB,GAAIA,OAAO,CAACC,kBAAR,GAA+B,IAAnC,CAAwC,CACpC,GAAIC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAZ,CACAC,UAAU,CAAC,UAAU,CAAEH,KAAK,CAACI,KAAN,CAAYC,OAAZ,CAAsB,OAAtB,CAA+B,CAA5C,CAA8C,GAA9C,CAAV,CAEAF,UAAU,CAAC,UAAU,CAACG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,CAArC,CAAuC,IAAvC,CAAV,CACH,CAED,GAAIV,OAAO,CAACW,OAAR,EAAmBX,OAAO,CAACY,OAA/B,CAAwC,CACtCJ,MAAM,CAACK,UAAP,GACA,MAAKlB,QAAL,CAAc,CACZmB,eAAe,CAAEd,OAAO,CAACW,OAAR,CAAgBI,QAAhB,EAA4B,EADjC,CAEZC,eAAe,CAAEhB,OAAO,CAACY,OAAR,CAAgBG,QAAhB,EAA4B,EAFjC,CAGZE,SAAS,CAAEjB,OAAO,CAACiB,SAAR,EAAqBpD,YAAY,CAACA,YAHjC,CAIZ6B,WAAW,CAAEM,OAAO,CAACN,WAAR,EAAuB,EAJxB,CAKZG,WAAW,CAAEG,OAAO,CAACH,WAAR,EAAuB,EALxB,CAMZI,kBAAkB,CAAE,KANR,CAAd,EASA,GAAI,MAAKR,KAAL,CAAWqB,eAAX,CAA2BI,MAA3B,CAAoC,CAApC,EAAyC,MAAKzB,KAAL,CAAW0B,GAAX,GAAmB,KAAhE,CAAsE,CACpEX,MAAM,CAACY,SAAP,GACA,MAAKzB,QAAL,CAAc,CACZwB,GAAG,CAAC,IADQ,CAAd,EAGD,CAED,GAAI,MAAK1B,KAAL,CAAWuB,eAAX,CAA2BE,MAA3B,CAAoC,CAApC,EAAyC,MAAKzB,KAAL,CAAW4B,GAAX,GAAmB,KAAhE,CAAsE,CACpEb,MAAM,CAACY,SAAP,GACA,MAAKzB,QAAL,CAAc,CACZ0B,GAAG,CAAC,IADQ,CAAd,EAGD,CAEF,CACF,CApCD,EAqCD,CAvEkB,OA2EnBC,OA3EmB,CA2ET,SAAAC,EAAE,QAAI,OAAK9B,KAAL,CAAW,MAAK+B,OAAL,CAAaD,EAAb,CAAX,CAAJ,EA3EO,OA8EnBE,SA9EmB,CA8EP,SAAAjD,MAAM,CAAI,IACZM,CAAAA,MADY,CACYN,MADZ,CACZM,MADY,CACJC,WADI,CACYP,MADZ,CACJO,WADI,CAGpB;AACA,GAAI,CAACA,WAAL,CAAkB,CAEhB,OACD,CAED,GAAID,MAAM,CAACO,WAAP,GAAuB,WAAvB,EAAsCN,WAAW,CAACM,WAAZ,GAA4B,WAAtE,CAAmF,CACjF,OACD,CAED,GAAIP,MAAM,CAACO,WAAP,GAAuB,WAAvB,EAAsCN,WAAW,CAACM,WAAZ,GAA4B,YAAlE,EAAkF,MAAKI,KAAL,CAAWqB,eAAX,CAA2BI,MAA3B,CAAoC,CAA1H,CAA6H,CAE3H,OACD,CAED,GAAIpC,MAAM,CAACO,WAAP,GAAuB,WAAvB,EAAsCN,WAAW,CAACM,WAAZ,GAA4B,YAAlE,EAAkF,MAAKI,KAAL,CAAWuB,eAAX,CAA2BE,MAA3B,CAAoC,CAA1H,CAA6H,CAE3H,OACD,CAED,GAAIpC,MAAM,CAACO,WAAP,GAAuB,WAAvB,EAAsCN,WAAW,CAACM,WAAZ,GAA4B,WAAtE,CAAmF,CACjF,GAAMb,CAAAA,OAAM,CAAGK,IAAI,CACjB,MAAKyC,OAAL,CAAaxC,MAAM,CAACO,WAApB,CADiB,CAEjB,MAAKiC,OAAL,CAAavC,WAAW,CAACM,WAAzB,CAFiB,CAGjBP,MAHiB,CAIjBC,WAJiB,CAAnB,CAOA;AAGAb,GAAG,CAACwD,aAAJ,CAAkBlD,OAAM,CAACmD,SAAzB,CAAoCnD,OAAM,CAACO,WAAW,CAACM,WAAb,CAA1C,EACD,CAGF,CApHkB,CAEjB,MAAKI,KAAL,CAAa,CACXwB,SAAS,CAAEpD,YAAY,CAACA,YADb,CAEXiD,eAAe,CAAE,EAFN,CAGXE,eAAe,CAAE,EAHN,CAIXtB,WAAW,CAAE,EAJF,CAKXG,WAAW,CAAE,EALF,CAMXsB,GAAG,CAAC,KANO,CAOXE,GAAG,CAAC,KAPO,CAAb,CAUA,MAAKG,OAAL,CAAe,CACbG,SAAS,CAAE,WADE,CAEbC,UAAU,CAAE,iBAFC,CAGbC,UAAU,CAAE,iBAHC,CAAf,CAZiB,aAkBlB,C,8DAoGQ,iBACP,GAAI,KAAKpC,KAAL,CAAWQ,kBAAX,GAAkC,IAAtC,CAA2C,CACzCO,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFD,IAGK,IAAI,KAAKjB,KAAL,CAAWqB,eAAX,CAA2BI,MAA3B,CAAoC,CAApC,EAAyC,KAAKzB,KAAL,CAAWuB,eAAX,CAA2BE,MAA3B,CAAoC,CAAjF,CAAoF,CACvF,MACE,qBAAC,WAAD,EAAa,OAAO,CAAE,KAAKzB,KAAL,CAAWqB,eAAjC,CAAkD,OAAO,CAAE,KAAKrB,KAAL,CAAWuB,eAAtE,CAAuF,SAAS,CAAE,KAAKvB,KAAL,CAAWwB,SAA7G,CAAwH,MAAM,CAAE,KAAKxB,KAAL,CAAWC,WAA3I,CAAwJ,MAAM,CAAE,KAAKD,KAAL,CAAWI,WAA3K,EADF,CAID,CALI,IAMH,OACE,qBAAC,eAAD,EAAiB,SAAS,CAAE,KAAK4B,SAAjC,EACE,2BAAK,SAAS,CAAC,WAAf,EAGE,2BAAK,SAAS,CAAC,MAAf,EAEE,2BAAK,SAAS,CAAC,aAAf,EACE,0BAAI,SAAS,CAAC,YAAd,EAA4B,KAAKhC,KAAL,CAAWI,WAAX,EAA0B,sBAAtD,CADF,CAFF,CAME,2BAAK,SAAS,CAAC,gBAAf,EACE,0BAAI,SAAS,CAAC,YAAd,yBADF,CANF,CAUE,2BAAK,SAAS,CAAC,aAAf,EACE,0BAAI,SAAS,CAAC,YAAd,EAA4B,KAAKJ,KAAL,CAAWC,WAAX,EAA0B,sBAAtD,CADF,CAVF,CAHF,CAmBE,2BAAK,EAAE,CAAC,aAAR,CAAsB,KAAK,CAAC,OAA5B,EAEI,2BAAK,KAAK,CAAC,eAAX,EACI,6BAAI,uCAAJ,CADJ,CAFJ,CAnBF,CA4BE,2BAAK,SAAS,CAAC,MAAf,EAEE,oBAAC,SAAD,EAAW,WAAW,CAAC,YAAvB,EACG,SAACoC,QAAD,QAEC,4BACE,GAAG,CAAEA,QAAQ,CAACC,QADhB,CAC0B,SAAS,CAAC,iBADpC,EAEE,0BAAI,SAAS,CAAC,YAAd,oBAFF,CAGG,MAAI,CAACtC,KAAL,CAAWuB,eAAX,CAA2BgB,GAA3B,CAA+B,SAACC,UAAD,CAAa7C,KAAb,QAC9B,qBAAC,SAAD,EACE,GAAG,CAAE6C,UAAU,CAACV,EADlB,CAEE,WAAW,CAAEU,UAAU,CAACV,EAF1B,CAGE,KAAK,CAAEnC,KAHT,EAKG,SAAC0C,QAAD,QACC,0CACE,GAAG,CAAEA,QAAQ,CAACC,QADhB,EAEMD,QAAQ,CAACI,cAFf,CAGMJ,QAAQ,CAACK,eAHf,EAKE,SAAS,CAAC,oBALZ,CAKiC,EAAE,CAAEF,UAAU,CAACV,EALhD,CAKoD,GAAG,CAAEU,UAAU,CAACV,EALpE,GAOE,0BAAI,SAAS,CAAC,cAAd,EAA8BU,UAAU,CAACrC,IAAX,EAAmB,UAAjD,CAPF,CAQE,yBAAG,SAAS,CAAC,gBAAb,EAA+BqC,UAAU,CAACG,MAAX,EAAqB,CAApD,CARF,CAUE,2BAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEH,UAAU,CAACI,IAA9C,CAAoD,GAAG,CAAC,EAAxD,CAA2D,KAAK,CAAC,IAAjE,CAAsE,MAAM,CAAC,IAA7E,EAVF,CAWE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEJ,UAAU,CAACK,WAAlD,CAA+D,GAAG,CAAC,EAAnE,CAAsE,KAAK,CAAC,IAA5E,CAAiF,MAAM,CAAC,GAAxF,EAXF,CAYE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEL,UAAU,CAACM,aAAlD,CAAiE,GAAG,CAAC,EAArE,CAAwE,KAAK,CAAC,GAA9E,CAAkF,MAAM,CAAC,GAAzF,EAZF,CAaE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEN,UAAU,CAACO,GAAlD,CAAuD,GAAG,CAAC,EAA3D,EAbF,CADD,EALH,CAD8B,EAA/B,CAHH,CA8BGV,QAAQ,CAACW,WA9BZ,CAFD,EADH,CAFF,CAyCE,oBAAC,SAAD,EAAW,WAAW,CAAC,WAAvB,EAEG,SAACX,QAAD,QAEC,4BAAK,SAAS,CAAC,mBAAf,CAAmC,GAAG,CAAEA,QAAQ,CAACC,QAAjD,EAEG,MAAI,CAACtC,KAAL,CAAWwB,SAAX,CAAqBe,GAArB,CAAyB,SAACjB,QAAD,CAAW3B,KAAX,QACxB,qBAAC,SAAD,EACE,GAAG,CAAE2B,QAAQ,CAACQ,EADhB,CAEE,WAAW,CAAER,QAAQ,CAACQ,EAFxB,CAGE,KAAK,CAAEnC,KAHT,EAIG,SAAC0C,QAAD,QACC,0CACE,GAAG,CAAEA,QAAQ,CAACC,QADhB,EAEMD,QAAQ,CAACI,cAFf,CAGMJ,QAAQ,CAACK,eAHf,EAIE,SAAS,CAAC,cAJZ,CAKE,EAAE,CAAEpB,QAAQ,CAACQ,EALf,CAME,GAAG,CAAER,QAAQ,CAACQ,EANhB,GASE,0BAAI,SAAS,CAAC,cAAd,EAA8BR,QAAQ,CAACnB,IAAT,EAAiB,UAA/C,CATF,CAUE,yBAAG,SAAS,CAAC,gBAAb,EAA+BmB,QAAQ,CAACqB,MAAT,EAAmB,CAAlD,CAVF,CAYE,2BAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAErB,QAAQ,CAACsB,IAA5C,CAAkD,GAAG,CAAC,EAAtD,CAAyD,KAAK,CAAC,IAA/D,CAAoE,MAAM,CAAC,IAA3E,EAZF,CAaE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEtB,QAAQ,CAACuB,WAAhD,CAA6D,GAAG,CAAC,EAAjE,CAAoE,KAAK,CAAC,IAA1E,CAA+E,MAAM,CAAC,GAAtF,EAbF,CAcE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEvB,QAAQ,CAACwB,aAAhD,CAA+D,GAAG,CAAC,EAAnE,CAAsE,KAAK,CAAC,GAA5E,CAAgF,MAAM,CAAC,GAAvF,EAdF,CAeE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAExB,QAAQ,CAACyB,GAAhD,CAAqD,GAAG,CAAC,EAAzD,EAfF,CADD,EAJH,CADwB,EAAzB,CAFH,CA4BGV,QAAQ,CAACW,WA5BZ,CAFD,EAFH,CAzCF,CA8EE,oBAAC,SAAD,EAAW,WAAW,CAAC,YAAvB,EACG,SAACX,QAAD,QAEC,4BACE,GAAG,CAAEA,QAAQ,CAACC,QADhB,CAC0B,SAAS,CAAC,iBADpC,EAEE,0BAAI,SAAS,CAAC,YAAd,oBAFF,CAGG,MAAI,CAACtC,KAAL,CAAWqB,eAAX,CAA2BkB,GAA3B,CAA+B,SAACU,UAAD,CAAatD,KAAb,QAC9B,qBAAC,SAAD,EACE,GAAG,CAAEsD,UAAU,CAACnB,EADlB,CAEE,WAAW,CAAEmB,UAAU,CAACnB,EAF1B,CAGE,KAAK,CAAEnC,KAHT,EAKG,SAAC0C,QAAD,QACC,0CACE,GAAG,CAAEA,QAAQ,CAACC,QADhB,EAEMD,QAAQ,CAACI,cAFf,CAGMJ,QAAQ,CAACK,eAHf,EAKE,SAAS,CAAC,oBALZ,CAKiC,EAAE,CAAEO,UAAU,CAACnB,EALhD,CAKoD,GAAG,CAAEmB,UAAU,CAACnB,EALpE,GAOE,0BAAI,SAAS,CAAC,cAAd,EAA8BmB,UAAU,CAAC9C,IAAX,EAAmB,UAAjD,CAPF,CAQE,yBAAG,SAAS,CAAC,gBAAb,EAA+B8C,UAAU,CAACN,MAAX,EAAqB,CAApD,CARF,CAUE,2BAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEM,UAAU,CAACL,IAA9C,CAAoD,GAAG,CAAC,EAAxD,CAA2D,KAAK,CAAC,IAAjE,CAAsE,MAAM,CAAC,IAA7E,EAVF,CAWE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEK,UAAU,CAACJ,WAAlD,CAA+D,GAAG,CAAC,EAAnE,CAAsE,KAAK,CAAC,IAA5E,CAAiF,MAAM,CAAC,GAAxF,EAXF,CAYE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEI,UAAU,CAACH,aAAlD,CAAiE,GAAG,CAAC,EAArE,CAAwE,KAAK,CAAC,GAA9E,CAAkF,MAAM,CAAC,GAAzF,EAZF,CAaE,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEG,UAAU,CAACF,GAAlD,CAAuD,GAAG,CAAC,EAA3D,EAbF,CADD,EALH,CAD8B,EAA/B,CAHH,CA8BGV,QAAQ,CAACW,WA9BZ,CAFD,EADH,CA9EF,CA5BF,CADF,CADF,CA0JH,C,wBA3RsB7E,S,EA6RzB,cAAe0B,CAAAA,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport championList from \"./champions\"\nimport \"./DraftChampion.css\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport DraftMinion from \"../draftMinion/draftMinion\";\nimport API from '../../utils/API';\nimport Lobby from \"../lobby/lobby\";\n\n\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\n/**\n* Moves an item from one list to another list. this function is working as expected\n*/\n\nconst move = (source, destination, droppableSource, droppableDestination) => {\n\n  const sourceClone = Array.from(source);\n\n  const destClone = Array.from(destination);\n\n  const [removed] = sourceClone.splice(droppableSource.index, 1);\n\n  destClone.splice(droppableDestination.index, 0, removed);\n\n  const result = {};\n  result[droppableSource.droppableId] = sourceClone;\n  result[droppableDestination.droppableId] = destClone;\n\n  return result;\n};\n\n\n\nclass DraftChamp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      champions: championList.championList,\n      player1champion: [],\n      player2champion: [],\n      player1name: \"\",\n      player2name: \"\",\n      p1c:false,\n      p2c:false,\n    }\n\n    this.id2List = {\n      droppable: 'champions',\n      droppable2: 'player1champion',\n      droppable3: 'player2champion'\n    }\n\n  }\n\n  assignNames = () => {\n    if (this.state.player1name === \"\") {\n      this.setState({\n        player1name: this.props.name\n      })\n    } else {\n      this.setState({\n        player2name: this.props.name\n      })\n    }\n  }\n\n  componentDidMount = () => {\n    API.assignNames(this.props.name)\n    API.joinGame(updates => {\n      \n\n      if (updates.playerDisconnected === true){\n          let modal = document.getElementById(\"myModalQuit\");\n          setTimeout(function(){ modal.style.display = \"block\";}, 300);\n          \n          setTimeout(function(){window.location.reload()}, 3000)\n      }\n      \n      if (updates.player1 && updates.player2) {\n        window.soundtrack()\n        this.setState({\n          player1champion: updates.player1.champion || [],\n          player2champion: updates.player2.champion || [],\n          champions: updates.champions || championList.championList,\n          player1name: updates.player1name || \"\",\n          player2name: updates.player2name || \"\",\n          playerDisconnected: false,\n        })\n\n        if (this.state.player1champion.length > 0 && this.state.p1c === false){\n          window.playCard1();\n          this.setState({\n            p1c:true\n          })\n        }\n\n        if (this.state.player2champion.length > 0 && this.state.p2c === false){\n          window.playCard1();\n          this.setState({\n            p2c:true\n          })\n        }\n\n      }\n    })\n  }\n\n\n\n  getList = id => this.state[this.id2List[id]];\n\n\n  onDragEnd = result => {\n    const { source, destination } = result;\n\n    // dropped outside the list\n    if (!destination) {\n      \n      return;\n    }\n\n    if (source.droppableId === 'droppable' && destination.droppableId === 'droppable') {\n      return\n    }\n    \n    if (source.droppableId === 'droppable' && destination.droppableId === \"droppable2\" && this.state.player1champion.length > 0) {\n      \n      return;\n    }\n\n    if (source.droppableId === 'droppable' && destination.droppableId === \"droppable3\" && this.state.player2champion.length > 0) {\n      \n      return;\n    }\n\n    if (source.droppableId === 'droppable' || destination.droppableId !== 'droppable') {\n      const result = move(\n        this.getList(source.droppableId),\n        this.getList(destination.droppableId),\n        source,\n        destination\n      );\n\n      // for testing the sound effects\n      \n\n      API.draftChampion(result.droppable, result[destination.droppableId])\n    }\n\n    \n  };\n\n  render() {\n    if (this.state.playerDisconnected === true){\n      window.location.reload();\n    }\n    else if (this.state.player1champion.length > 0 && this.state.player2champion.length > 0) {\n      return (\n        <DraftMinion p1champ={this.state.player1champion} p2champ={this.state.player2champion} champions={this.state.champions} p1name={this.state.player1name} p2name={this.state.player2name}></DraftMinion>\n\n      )\n    } else\n      return (\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <div className=\"container\">\n\n\n            <div className=\"row1\">\n\n              <div className=\"player2Name\">\n                <h1 className=\"headerText\">{this.state.player2name || \"Waiting for Opponent\"}</h1>\n              </div>\n\n              <div className=\"championHeader\">\n                <h1 className=\"headerText\">Choose your champion</h1>\n              </div>\n\n              <div className=\"player1Name\">\n                <h1 className=\"headerText\">{this.state.player1name || \"Waiting for Opponent\"}</h1>\n              </div>\n\n            </div>\n\n            <div id=\"myModalQuit\" class=\"modal\">\n\n                <div class=\"modal-content\">\n                    <p>{\"Player Disconnected, heading to lobby\"}</p>\n                </div>\n\n            </div>\n\n\n            <div className=\"row2\">\n\n              <Droppable droppableId=\"droppable3\">\n                {(provided) => (\n\n                  <div\n                    ref={provided.innerRef} className=\"chosenChampion1\">\n                    <h3 className=\"chosenText\">Chosen Champion</h3>\n                    {this.state.player2champion.map((p2Champion, index) => (\n                      <Draggable\n                        key={p2Champion.id}\n                        draggableId={p2Champion.id}\n                        index={index}\n                      >\n                        {(provided) => (\n                          <div\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n\n                            className=\"chosenChampionCard\" id={p2Champion.id} key={p2Champion.id}>\n\n                            <h3 className=\"championName\">{p2Champion.name || \"champion\"}</h3>\n                            <p className=\"championHealth\">{p2Champion.Health || 2}</p>\n\n                            <img className=\"championCost\" src={p2Champion.type} alt=\"\" width=\"42\" height=\"42\"></img>\n                            <img className=\"championWeakness\" src={p2Champion.WeakAgainst} alt=\"\" width=\"42\" height=\"1\"></img>\n                            <img className=\"championStrength\" src={p2Champion.StrongAgainst} alt=\"\" width=\"5\" height=\"1\"></img>\n                            <img className=\"championPortrait\" src={p2Champion.Img} alt=\"\"></img>\n\n                          </div>\n\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </div>\n\n                )}\n              </Droppable>\n\n              <Droppable droppableId=\"droppable\">\n\n                {(provided) => (\n\n                  <div className=\"championContainer\" ref={provided.innerRef}>\n\n                    {this.state.champions.map((champion, index) => (\n                      <Draggable\n                        key={champion.id}\n                        draggableId={champion.id}\n                        index={index}>\n                        {(provided) => (\n                          <div\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                            className=\"championCard\"\n                            id={champion.id}\n                            key={champion.id}\n                          >\n\n                            <h3 className=\"championName\">{champion.name || \"champion\"}</h3>\n                            <p className=\"championHealth\">{champion.Health || 2}</p>\n\n                            <img className=\"championCost\" src={champion.type} alt=\"\" width=\"42\" height=\"42\"></img>\n                            <img className=\"championWeakness\" src={champion.WeakAgainst} alt=\"\" width=\"42\" height=\"1\"></img>\n                            <img className=\"championStrength\" src={champion.StrongAgainst} alt=\"\" width=\"5\" height=\"1\"></img>\n                            <img className=\"championPortrait\" src={champion.Img} alt=\"\"></img>\n                          </div>\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </div>\n                )\n                }\n              </Droppable>\n              <Droppable droppableId=\"droppable2\">\n                {(provided) => (\n\n                  <div\n                    ref={provided.innerRef} className=\"chosenChampion2\">\n                    <h3 className=\"chosenText\">Chosen Champion</h3>\n                    {this.state.player1champion.map((p1champion, index) => (\n                      <Draggable\n                        key={p1champion.id}\n                        draggableId={p1champion.id}\n                        index={index}\n                      >\n                        {(provided) => (\n                          <div\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n\n                            className=\"chosenChampionCard\" id={p1champion.id} key={p1champion.id}>\n\n                            <h3 className=\"championName\">{p1champion.name || \"champion\"}</h3>\n                            <p className=\"championHealth\">{p1champion.Health || 2}</p>\n\n                            <img className=\"championCost\" src={p1champion.type} alt=\"\" width=\"42\" height=\"42\"></img>\n                            <img className=\"championWeakness\" src={p1champion.WeakAgainst} alt=\"\" width=\"42\" height=\"1\"></img>\n                            <img className=\"championStrength\" src={p1champion.StrongAgainst} alt=\"\" width=\"5\" height=\"1\"></img>\n                            <img className=\"championPortrait\" src={p1champion.Img} alt=\"\"></img>\n\n                          </div>\n\n                        )}\n                      </Draggable>\n                    ))}\n                    {provided.placeholder}\n                  </div>\n\n                )}\n              </Droppable>\n\n\n            </div>\n\n          </div>\n        </DragDropContext>\n\n      )\n  }\n}\nexport default DraftChamp;"]},"metadata":{},"sourceType":"module"}