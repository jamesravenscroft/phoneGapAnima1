{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _slicedToArray from\"C:\\\\Users\\\\jrave\\\\Desktop\\\\BusinessSites\\\\Animalchemists\\\\phoneGapAnima1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{Component}from\"react\";import'./draftMinion.css';import minionsList from\"./minions\";import DraftChamp from\"../draftChamp/draftChamp\";import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import GameBoard from\"../board/board\";import API from'../../utils/API';var reorder=function reorder(list,startIndex,endIndex){var result=Array.from(list);var _result$splice=result.splice(startIndex,1),_result$splice2=_slicedToArray(_result$splice,1),removed=_result$splice2[0];result.splice(endIndex,0,removed);return result;};/**\n* Moves an item from one list to another list. this function is working as expected\n*/var move=function move(source,destination,droppableSource,droppableDestination){var sourceClone=Array.from(source);var destClone=Array.from(destination);var _sourceClone$splice=sourceClone.splice(droppableSource.index,1),_sourceClone$splice2=_slicedToArray(_sourceClone$splice,1),removed=_sourceClone$splice2[0];destClone.splice(droppableDestination.index,0,removed);var result={};result[droppableSource.droppableId]=sourceClone;result[droppableDestination.droppableId]=destClone;return result;};var DraftMinion=/*#__PURE__*/function(_Component){_inherits(DraftMinion,_Component);function DraftMinion(props){var _this;_classCallCheck(this,DraftMinion);_this=_possibleConstructorReturn(this,_getPrototypeOf(DraftMinion).call(this,props));_this.componentDidMount=function(){API.joinGame(function(updates){if(updates.playerDisconnected===true){var modal=document.getElementById(\"myModalQuit\");setTimeout(function(){modal.style.display=\"block\";},300);setTimeout(function(){window.location.reload();},3000);}if(updates.player1&&updates.player2){_this.setState({player1deck:updates.player1.minions||[],player2deck:updates.player2.minions||[],player1Turn:updates.player1.turn,player2Turn:updates.player2.turn,minions:updates.minions,player1champion:updates.player1.champion,player2champion:updates.player2.champion,champions:updates.champions,currentTurn:updates.currentTurn||_this.props.p1name});}});};_this.getList=function(id){return _this.state[_this.id2List[id]];};_this.onDragEnd=function(result){var source=result.source,destination=result.destination;// dropped outside the list\nif(!destination){return;}if(source.droppableId===destination.droppableId){var items=reorder(_this.getList(source.droppableId),source.index,destination.index);var state={items:items};if(source.droppableId==='droppable2'){state={selected:items};}_this.setState(state);}if(source.droppableId==='droppable'&&destination.droppableId===\"droppable2\"&&_this.state.player1deck.length>8){return;}if(source.droppableId==='droppable'&&destination.droppableId===\"droppable3\"&&_this.state.player2deck.length>8){return;}if(source.droppableId==='droppable'&&destination.droppableId===\"droppable2\"&&_this.state.player1Turn){var _result=move(_this.getList(source.droppableId),_this.getList(destination.droppableId),source,destination);API.draft1Minion(_result.droppable,_result[destination.droppableId],_this.state.player2name);}if(source.droppableId==='droppable'&&destination.droppableId===\"droppable3\"&&_this.state.player2Turn){var _result2=move(_this.getList(source.droppableId),_this.getList(destination.droppableId),source,destination);API.draft2Minion(_result2.droppable,_result2[destination.droppableId],_this.state.player1name);}};_this.state={minions:minionsList.minionsList,player1deck:[],player2deck:[],player1champion:_this.props.p1champ,player2champion:_this.props.p2champ,player1Turn:true,player2Turn:false,champions:_this.props.champions,player1name:_this.props.p1name,player2name:_this.props.p2name,currentTurn:_this.props.p1name};_this.id2List={droppable:'minions',droppable2:'player1deck',droppable3:'player2deck'};return _this;}_createClass(DraftMinion,[{key:\"render\",value:function render(){var _this2=this;if(this.state.player1deck.length===5&&this.state.player2deck.length===5){return React.createElement(GameBoard,{p1deck:this.state.player1deck,p2deck:this.state.player2deck,p1champ:this.state.player1champion,p2champ:this.state.player2champion,p1name:this.state.player1name,p2name:this.state.player2name});}else{return React.createElement(DragDropContext,{onDragEnd:this.onDragEnd},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row1\"},React.createElement(\"div\",{className:\"player2Name\"},React.createElement(\"h1\",{className:\"headerText\"},this.state.player2name||\"Waiting for Opponent\"),React.createElement(\"h6\",{className:\"subText\"},this.state.player2champion[0].name)),React.createElement(\"div\",{className:\"minionHeader\"},React.createElement(\"h1\",{className:\"headerText\"},\"Choose your minions\"),React.createElement(\"h3\",{className:\"headerText\"},\"Current Turn: \",this.state.currentTurn)),React.createElement(\"div\",{className:\"player1Name\"},React.createElement(\"h1\",{className:\"headerText\"},this.state.player1name||\"Waiting for Opponent\"),React.createElement(\"h6\",{className:\"subText\"},this.state.player1champion[0].name))),React.createElement(\"div\",{id:\"myModalQuit\",class:\"modal\"},React.createElement(\"div\",{class:\"modal-content\"},React.createElement(\"p\",null,\"Player Disconnected, heading to lobby\"))),React.createElement(\"div\",{className:\"row2\"},React.createElement(Droppable,{droppableId:\"droppable3\"},function(provided){return React.createElement(\"div\",{ref:provided.innerRef,className:\"chosenMinion\"},React.createElement(\"h3\",{className:\"chosenText\"},\"Chosen Minions\"),React.createElement(\"h6\",{className:\"chosenText\"},_this2.state.player2deck.length,\"/5\"),_this2.state.player2deck.map(function(p2deck,index){return React.createElement(Draggable,{key:p2deck.id,draggableId:p2deck.id,index:index},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"chosenMinionCard\",id:p2deck.id,key:p2deck.id}),React.createElement(\"p\",{className:\"minionName\"},p2deck.Name),React.createElement(\"div\",null,React.createElement(\"img\",{className:\"chosenMinionPortrait\",src:p2deck.Img,alt:\"\",width:\"60\",height:\"60\"})),React.createElement(\"img\",{className:\"chosenMinionWeakness\",src:p2deck.WeakAgainstImg,alt:\"\",width:\"20\",height:\"20\"}),React.createElement(\"img\",{className:\"minionType\",src:p2deck.Type,alt:\"\",width:\"42\",height:\"42\"}),React.createElement(\"img\",{className:\"chosenMinionStrength\",src:p2deck.StrongAgainstImg,alt:\"\",width:\"20\",height:\"20\"}));});}),provided.placeholder);}),React.createElement(Droppable,{droppableId:\"droppable\"},function(provided){return React.createElement(\"div\",{className:\"minionContainer\",ref:provided.innerRef},_this2.state.minions.map(function(minion,index){return React.createElement(Draggable,{key:minion.id,draggableId:minion.id,index:index},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"minionCard\",id:minion.id,key:minion.id}),React.createElement(\"h3\",{className:\"MinionName\"},minion.Name||\"Minion\"),React.createElement(\"p\",{className:\"minionHealth\"},minion.Health||2),React.createElement(\"div\",{className:\"ability\"},React.createElement(\"span\",{className:\"minionAttack1\"},minion.Attack1Name||\"Ability 1\"),React.createElement(\"span\",{className:\"minionAttack1Power\"},React.createElement(\"br\",null),minion.Attack1Power),React.createElement(\"span\",{className:\"minionAttack1Cost\"},minion.Attack1Cost)),React.createElement(\"img\",{className:\"minionCost\",src:minion.Type,alt:\"\",width:\"42\",height:\"42\"}),React.createElement(\"img\",{className:\"minionWeakness\",src:minion.WeakAgainstImg,alt:\"\",width:\"42\",height:\"1\"}),React.createElement(\"img\",{className:\"minionStrength\",src:minion.StrongAgainstImg,alt:\"\",width:\"5\",height:\"1\"}),React.createElement(\"img\",{className:\"minionPortrait\",src:minion.Img,alt:\"\"}));});}),provided.placeholder);}),React.createElement(Droppable,{droppableId:\"droppable2\"},function(provided){return React.createElement(\"div\",{ref:provided.innerRef,className:\"chosenMinion\"},React.createElement(\"h3\",{className:\"chosenText\"},\"Chosen Minions\"),React.createElement(\"h6\",{className:\"chosenText\"},_this2.state.player1deck.length,\"/5\"),_this2.state.player1deck.map(function(p1deck,index){return React.createElement(Draggable,{key:p1deck.id,draggableId:p1deck.id,index:index},function(provided){return React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"chosenMinionCard\",id:p1deck.id,key:p1deck.id}),React.createElement(\"p\",{className:\"minionName\"},p1deck.Name),React.createElement(\"div\",null,React.createElement(\"img\",{className:\"chosenMinionPortrait\",src:p1deck.Img,alt:\"\",width:\"60\",height:\"60\"})),React.createElement(\"img\",{className:\"chosenMinionWeakness\",src:p1deck.WeakAgainstImg,alt:\"\",width:\"20\",height:\"20\"}),React.createElement(\"img\",{className:\"minionType\",src:p1deck.Type,alt:\"\",width:\"42\",height:\"42\"}),React.createElement(\"img\",{className:\"chosenMinionStrength\",src:p1deck.StrongAgainstImg,alt:\"\",width:\"20\",height:\"20\"}));});}),provided.placeholder);}))));}}}]);return DraftMinion;}(Component);export default DraftMinion;","map":{"version":3,"sources":["C:/Users/jrave/Desktop/BusinessSites/Animalchemists/phoneGapAnima1/src/components/draftMinion/draftMinion.js"],"names":["React","Component","minionsList","DraftChamp","DragDropContext","Droppable","Draggable","GameBoard","API","reorder","list","startIndex","endIndex","result","Array","from","splice","removed","move","source","destination","droppableSource","droppableDestination","sourceClone","destClone","index","droppableId","DraftMinion","props","componentDidMount","joinGame","updates","playerDisconnected","modal","document","getElementById","setTimeout","style","display","window","location","reload","player1","player2","setState","player1deck","minions","player2deck","player1Turn","turn","player2Turn","player1champion","champion","player2champion","champions","currentTurn","p1name","getList","id","state","id2List","onDragEnd","items","selected","length","draft1Minion","droppable","player2name","draft2Minion","player1name","p1champ","p2champ","p2name","droppable2","droppable3","name","provided","innerRef","map","p2deck","draggableProps","dragHandleProps","Name","Img","WeakAgainstImg","Type","StrongAgainstImg","placeholder","minion","Health","Attack1Name","Attack1Power","Attack1Cost","p1deck"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './draftMinion.css';\nimport minionsList from \"./minions\"\nimport DraftChamp from \"../draftChamp/draftChamp\";\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport GameBoard from \"../board/board\"\nimport API from '../../utils/API';\n\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\n/**\n* Moves an item from one list to another list. this function is working as expected\n*/\n\nconst move = (source, destination, droppableSource, droppableDestination) => {\n\n  const sourceClone = Array.from(source);\n\n  const destClone = Array.from(destination);\n\n  const [removed] = sourceClone.splice(droppableSource.index, 1);\n\n  destClone.splice(droppableDestination.index, 0, removed);\n\n  const result = {};\n  result[droppableSource.droppableId] = sourceClone;\n  result[droppableDestination.droppableId] = destClone;\n\n  return result;\n};\n\nclass DraftMinion extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      minions: minionsList.minionsList,\n      player1deck: [],\n      player2deck: [],\n      player1champion: this.props.p1champ,\n      player2champion: this.props.p2champ,\n      player1Turn: true,\n      player2Turn: false,\n      champions: this.props.champions,\n      player1name: this.props.p1name,\n      player2name: this.props.p2name,\n      currentTurn: this.props.p1name\n    };\n\n    this.id2List = {\n      droppable: 'minions',\n      droppable2: 'player1deck',\n      droppable3: 'player2deck'\n    };\n\n  }\n\n  componentDidMount = () => {\n    API.joinGame(updates => {\n      if (updates.playerDisconnected === true){\n        let modal = document.getElementById(\"myModalQuit\");\n        setTimeout(function(){ modal.style.display = \"block\";}, 300);\n        \n        setTimeout(function(){window.location.reload()}, 3000)\n    }\n      if (updates.player1 && updates.player2) {\n        this.setState({\n          player1deck: updates.player1.minions || [],\n          player2deck: updates.player2.minions || [],\n          player1Turn: updates.player1.turn,\n          player2Turn: updates.player2.turn,\n          minions: updates.minions,\n          player1champion: updates.player1.champion,\n          player2champion: updates.player2.champion,\n          champions: updates.champions,\n          currentTurn: updates.currentTurn || this.props.p1name\n        })\n      }\n    })\n  }\n\n  getList = id => this.state[this.id2List[id]];\n\n  onDragEnd = result => {\n    const { source, destination } = result;\n\n    // dropped outside the list\n    if (!destination) {\n      \n      return;\n    }\n\n    if (source.droppableId === destination.droppableId) {\n      const items = reorder(\n        this.getList(source.droppableId),\n        source.index,\n        destination.index\n      );\n\n      let state = { items };\n\n      if (source.droppableId === 'droppable2') {\n        state = { selected: items };\n      }\n\n      this.setState(state);\n    } if (source.droppableId === 'droppable' && destination.droppableId === \"droppable2\" && this.state.player1deck.length > 8) {\n      \n      return;\n    }\n\n    if (source.droppableId === 'droppable' && destination.droppableId === \"droppable3\" && this.state.player2deck.length > 8) {\n      \n      return;\n    }\n\n    if (source.droppableId === 'droppable' && destination.droppableId === \"droppable2\" && (this.state.player1Turn)) {\n      const result = move(\n        this.getList(source.droppableId),\n        this.getList(destination.droppableId),\n        source,\n        destination\n      );\n\n      API.draft1Minion(result.droppable, result[destination.droppableId], this.state.player2name)\n    }\n\n    if (source.droppableId === 'droppable' && destination.droppableId === \"droppable3\" && (this.state.player2Turn)) {\n      const result = move(\n        this.getList(source.droppableId),\n        this.getList(destination.droppableId),\n        source,\n        destination\n      );\n\n      API.draft2Minion(result.droppable, result[destination.droppableId], this.state.player1name)\n    }\n\n  };\n\n  render() {\n    if (this.state.player1deck.length === 5 && this.state.player2deck.length === 5) {\n      return (\n        <GameBoard p1deck={this.state.player1deck} p2deck={this.state.player2deck} p1champ={this.state.player1champion} p2champ={this.state.player2champion} p1name={this.state.player1name} p2name={this.state.player2name}></GameBoard>\n      )\n    } else {\n    return (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n        <div className=\"container\">\n\n          <div className=\"row1\">\n\n            <div className=\"player2Name\">\n              <h1 className=\"headerText\">{this.state.player2name || \"Waiting for Opponent\"}</h1>\n              <h6 className=\"subText\">{this.state.player2champion[0].name}</h6>\n            </div>\n\n            <div className=\"minionHeader\">\n              <h1 className=\"headerText\">Choose your minions</h1>\n              <h3 className=\"headerText\">Current Turn: {this.state.currentTurn}</h3>\n            </div>\n\n            <div className=\"player1Name\">\n              <h1 className=\"headerText\">{this.state.player1name || \"Waiting for Opponent\"}</h1>\n              <h6 className=\"subText\">{this.state.player1champion[0].name}</h6>\n            </div>\n\n          </div>\n\n          <div id=\"myModalQuit\" class=\"modal\">\n\n            <div class=\"modal-content\">\n                <p>{\"Player Disconnected, heading to lobby\"}</p>\n            </div>\n\n          </div>\n\n          <div className=\"row2\">\n            <Droppable droppableId=\"droppable3\">\n              {(provided) => (\n                <div\n                  ref={provided.innerRef} className=\"chosenMinion\">\n                  <h3 className=\"chosenText\">Chosen Minions</h3>\n                  <h6 className=\"chosenText\">{this.state.player2deck.length}/5</h6>\n                  {this.state.player2deck.map((p2deck, index) => (\n                    <Draggable\n                      key={p2deck.id}\n                      draggableId={p2deck.id}\n                      index={index}\n                    >\n                      {(provided) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n\n                          className=\"chosenMinionCard\" id={p2deck.id} key={p2deck.id}\n                        >\n                          <p className=\"minionName\">{p2deck.Name}</p>\n                          <div>\n                            <img className=\"chosenMinionPortrait\" src={p2deck.Img} alt=\"\" width=\"60\" height=\"60\"></img>\n                          </div>\n                          <img className=\"chosenMinionWeakness\" src={p2deck.WeakAgainstImg} alt=\"\" width=\"20\" height=\"20\"></img>\n                          <img className=\"minionType\" src={p2deck.Type} alt=\"\" width=\"42\" height=\"42\"></img>\n                          <img className=\"chosenMinionStrength\" src={p2deck.StrongAgainstImg} alt=\"\" width=\"20\" height=\"20\"></img>\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n\n            <Droppable droppableId=\"droppable\">\n\n              {(provided) => (\n\n                <div className=\"minionContainer\" ref={provided.innerRef}>\n\n                  {this.state.minions.map((minion, index) => (\n                    <Draggable\n                      key={minion.id}\n                      draggableId={minion.id}\n                      index={index}>\n                      {(provided) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          className=\"minionCard\"\n                          id={minion.id}\n                          key={minion.id}\n                        >\n                          <h3 className=\"MinionName\">{minion.Name || \"Minion\"}</h3>\n                          <p className=\"minionHealth\">{minion.Health || 2}</p>\n\n                          <div className=\"ability\">\n                            <span className=\"minionAttack1\">{minion.Attack1Name || \"Ability 1\"}</span>\n                            <span className=\"minionAttack1Power\"><br></br>{minion.Attack1Power}</span>\n                            <span className=\"minionAttack1Cost\">{minion.Attack1Cost}</span>\n                          </div>\n\n                          <img className=\"minionCost\" src={minion.Type} alt=\"\" width=\"42\" height=\"42\"></img>\n                          <img className=\"minionWeakness\" src={minion.WeakAgainstImg} alt=\"\" width=\"42\" height=\"1\"></img>\n                          <img className=\"minionStrength\" src={minion.StrongAgainstImg} alt=\"\" width=\"5\" height=\"1\"></img>\n                          <img className=\"minionPortrait\" src={minion.Img} alt=\"\"></img>\n\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n            <Droppable droppableId=\"droppable2\">\n              {(provided) => (\n                <div\n                  ref={provided.innerRef} className=\"chosenMinion\">\n                  <h3 className=\"chosenText\">Chosen Minions</h3>\n                  <h6 className=\"chosenText\">{this.state.player1deck.length}/5</h6>\n                  {this.state.player1deck.map((p1deck, index) => (\n                    <Draggable\n                      key={p1deck.id}\n                      draggableId={p1deck.id}\n                      index={index}\n                    >\n                      {(provided) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n\n                          className=\"chosenMinionCard\" id={p1deck.id} key={p1deck.id}\n                        >\n                          <p className=\"minionName\">{p1deck.Name}</p>\n                          <div>\n                            <img className=\"chosenMinionPortrait\" src={p1deck.Img} alt=\"\" width=\"60\" height=\"60\"></img>\n                          </div>\n                          <img className=\"chosenMinionWeakness\" src={p1deck.WeakAgainstImg} alt=\"\" width=\"20\" height=\"20\"></img>\n                          <img className=\"minionType\" src={p1deck.Type} alt=\"\" width=\"42\" height=\"42\"></img>\n                          <img className=\"chosenMinionStrength\" src={p1deck.StrongAgainstImg} alt=\"\" width=\"20\" height=\"20\"></img>\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n\n          </div>\n\n        </div>\n\n      </DragDropContext>\n\n    )\n    } \n  }\n}\n\n\nexport default DraftMinion;"]},"metadata":{},"sourceType":"module"}